<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ocde documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ocde documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>LoginComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/login/login.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-login</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./login.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./login.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#loginForm">loginForm</a>
                            </li>
                            <li>
                                <a href="#myuser">myuser</a>
                            </li>
                            <li>
                                <a href="#notsuccess">notsuccess</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#localcall">localcall</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onSubmit">onSubmit</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(logserv: <a href="../injectables/LoginService.html">LoginService</a>, _router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, locallogserv: <a href="../injectables/LoginService.html">LoginService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/login/login.component.ts:27</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Description
We define the constructor of the class hear</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>logserv</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LoginService.html" target="_self" >LoginService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>An instance of class login service</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>_router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>An instance of the class router</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>locallogserv</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LoginService.html" target="_self" >LoginService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Another instacne of login service</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="localcall"></a>
                    <span class="name">
                        <b>
                            localcall
                        </b>
                        <a href="#localcall"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>localcall()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="48"
                            class="link-to-prism">src/app/login/login.component.ts:48</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Description
This function will fetch the userid and the userimage after a authenticated login is made.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="42"
                            class="link-to-prism">src/app/login/login.component.ts:42</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubmit"></a>
                    <span class="name">
                        <b>
                            onSubmit
                        </b>
                        <a href="#onSubmit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubmit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="62"
                            class="link-to-prism">src/app/login/login.component.ts:62</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Description
This function is to submit the form to the backend. We are also storing the username and the password of this user in myuser variable. This variable is sent through the POST request.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loginForm"></a>
                        <span class="name">
                            <b>
                            loginForm</b>
                            <a href="#loginForm"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new FormGroup({
    username:new FormControl(&#x27;&#x27;, Validators.required), 
    password:new FormControl(&#x27;&#x27;,Validators.required)
  })</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/login/login.component.ts:24</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>A Formgroup created that will be send through the POST request</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="myuser"></a>
                        <span class="name">
                            <b>
                            myuser</b>
                            <a href="#myuser"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/User.html" target="_self" >User</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/login/login.component.ts:17</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Description
This component is the login system for our website.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="notsuccess"></a>
                        <span class="name">
                            <b>
                            notsuccess</b>
                            <a href="#notsuccess"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&quot;&quot;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/login/login.component.ts:18</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { User } from &#x27;./user&#x27;;
import { ActivatedRoute } from &#x27;@angular/router&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { FormControl, FormGroup, Validators } from &#x27;@angular/forms&#x27;
import { LoginService } from &#x27;../login.service&#x27;;

@Component({
  selector: &#x27;app-login&#x27;,
  templateUrl: &#x27;./login.component.html&#x27;,
  styleUrls: [&#x27;./login.component.scss&#x27;]
})
export class LoginComponent implements OnInit {
  /** Description
   * This component is the login system for our website.
   */
  myuser : User; /**&lt; Implements User interface and creates an instance */
  notsuccess :string&#x3D;&quot;&quot;; /**A variable to store if the login was a success */

  /**
   * A Formgroup created that will be send through the POST request
   */
  
  loginForm &#x3D; new FormGroup({
    username:new FormControl(&#x27;&#x27;, Validators.required), 
    password:new FormControl(&#x27;&#x27;,Validators.required)
  })

  /**Description
   * We define the constructor of the class hear
   * @param logserv An instance of class login service
   * @param _router An instance of the class router
   * @param locallogserv Another instacne of login service
   */

  constructor(
    private logserv:LoginService,
    private _router:Router,
    private locallogserv:LoginService,
  ) { }

  ngOnInit(): void {
    
  }
  /**Description
   * This function will fetch the userid and the userimage after a authenticated login is made.
   */
  localcall(){
    this.locallogserv.trylogin(this.myuser).subscribe(
      (res:any)&#x3D;&gt;{
        localStorage.setItem(&#x27;userimage&#x27;,res.image);
        localStorage.setItem(&#x27;userid&#x27;,res.userid);
      },
      err&#x3D;&gt;{
        console.log(err);
      }
    )
  }
  /**Description
   * This function is to submit the form to the backend. We are also storing the username and the password of this user in myuser variable. This variable is sent through the POST request.
   */
  onSubmit(){
    this.myuser&#x3D;{
      username: this.loginForm.get(&#x27;username&#x27;).value,
      password: this.loginForm.get(&#x27;password&#x27;).value,
    }

    /**Description
     * We are trying to make an API call and get a token, with the obtained token we are storing it in local storage, so that we can further use this token to authenticate further API calls.
     */

    this.logserv.trytoken(this.myuser)
      .subscribe(
        (res:any) &#x3D;&gt; {
          // console.log(res)
          this.notsuccess &#x3D;&quot;&quot;;
          /**
           * This local call function is to fetch the login details of the user after the token has been obtained.
           */
          this.localcall();
          localStorage.setItem(&#x27;token&#x27;,res.token);
          // localStorage.setItem(&#x27;userimage&#x27;,res.image);
          // localStorage.setItem(&#x27;userid&#x27;, res.userid);
          localStorage.setItem(&#x27;username&#x27;,this.myuser.username);
          this._router.navigate([&#x27;/profile&#x27;]);
        },
        err &#x3D;&gt; {
          // this.notsuccess &#x3D; &quot;fail&quot;;
          alert(&quot;Invalid credentials. Try Again!&quot;)
          console.log(err);

        }
      )
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!-- &lt;br&gt;&lt;h1&gt;User Login&lt;/h1&gt;&lt;br&gt;
&lt;form [formGroup]&#x3D;&quot;loginForm&quot; (ngSubmit)&#x3D;&quot;onSubmit()&quot;&gt;
    &lt;label&gt;Username: &lt;input type&#x3D;&quot;text&quot; formControlName&#x3D;&quot;username&quot;&gt;&lt;/label&gt;&lt;br&gt;&lt;br&gt;
    &lt;label&gt;password: &lt;input type&#x3D;&quot;password&quot; formControlName&#x3D;&quot;password&quot;&gt;&lt;/label&gt;
&lt;/form&gt;
&lt;button class&#x3D; &quot;button&quot; (click)&#x3D;&quot;onSubmit()&quot; type&#x3D;&quot;submit&quot; &gt;Submit&lt;/button&gt; --&gt;

&lt;div class&#x3D;&quot;container h-100&quot;&gt;
    &lt;div class&#x3D;&quot;row h-100&quot;&gt;
        &lt;div class&#x3D;&quot;col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100&quot;&gt;
            &lt;div class&#x3D;&quot;d-table-cell align-middle&quot;&gt;

                &lt;div class&#x3D;&quot;text-center mt-4&quot;&gt;
                    &lt;h1 class&#x3D;&quot;h2&quot;&gt;Login&lt;/h1&gt;
                &lt;/div&gt;

                &lt;div class&#x3D;&quot;card&quot;&gt;
                    &lt;div class&#x3D;&quot;card-body&quot;&gt;
                        &lt;div class&#x3D;&quot;m-sm-4&quot;&gt;
                            &lt;form [formGroup]&#x3D;&quot;loginForm&quot; (ngSubmit)&#x3D;&quot;onSubmit()&quot;&gt;
                                &lt;label&gt;Username&lt;/label&gt;
                                &lt;input class&#x3D;&quot;form-control form-control-lg&quot; type&#x3D;&quot;text&quot; formControlName&#x3D;&quot;username&quot; placeholder&#x3D;&quot;Enter your username&quot;&gt;
                                &lt;label&gt;Password&lt;/label&gt;
                                &lt;input type&#x3D;&quot;password&quot; class&#x3D;&quot;form-control form-control-lg&quot; formControlName&#x3D;&quot;password&quot; placeholder&#x3D;&quot;Enter password&quot;&gt;
                            &lt;/form&gt;
                            &lt;div class&#x3D;&quot;text-center mt-3&quot;&gt;
                                &lt;button class&#x3D;&quot;btn btn-lg btn-dark&quot; (click)&#x3D;&quot;onSubmit()&quot; type&#x3D;&quot;submit&quot;&gt;Login&lt;/button&gt;
                                &lt;div *ngIf&#x3D;&quot;notsuccess&quot; class&#x3D;&quot;alert alert-danger&quot; role&#x3D;&quot;alert&quot;&gt;
                                    &lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;close&quot; data-dismiss&#x3D;&quot;alert&quot; aria-label&#x3D;&quot;close&quot;&gt;&amp;times;&lt;/a&gt;
                                    Incorrect username/password! Try again.
                                &lt;/div&gt;
                            &lt;/div&gt;

                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;

            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./login.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!-- <br><h1>User Login</h1><br><form [formGroup]="loginForm" (ngSubmit)="onSubmit()">    <label>Username: <input type="text" formControlName="username"></label><br><br>    <label>password: <input type="password" formControlName="password"></label></form><button class= "button" (click)="onSubmit()" type="submit" >Submit</button> --><div class="container h-100">    <div class="row h-100">        <div class="col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100">            <div class="d-table-cell align-middle">                <div class="text-center mt-4">                    <h1 class="h2">Login</h1>                </div>                <div class="card">                    <div class="card-body">                        <div class="m-sm-4">                            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">                                <label>Username</label>                                <input class="form-control form-control-lg" type="text" formControlName="username" placeholder="Enter your username">                                <label>Password</label>                                <input type="password" class="form-control form-control-lg" formControlName="password" placeholder="Enter password">                            </form>                            <div class="text-center mt-3">                                <button class="btn btn-lg btn-dark" (click)="onSubmit()" type="submit">Login</button>                                <div *ngIf="notsuccess" class="alert alert-danger" role="alert">                                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>                                    Incorrect username/password! Try again.                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CompCreateComponent', 'selector': 'app-comp-create'},{'name': 'CompDashboardComponent', 'selector': 'app-comp-dashboard'},{'name': 'CompetitionComponent', 'selector': 'app-competition'},{'name': 'EditorComponent', 'selector': 'app-editor'},{'name': 'EditorDialogComponent', 'selector': 'app-editor-dialog'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'LoadingComponent', 'selector': 'app-loading'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'PastcontestComponent', 'selector': 'app-pastcontest'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'TimerComponent', 'selector': 'app-timer'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'LoginComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'LoginComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
